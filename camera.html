import express from "express";
import multer from "multer";
import cors from "cors";

const app = express();
const upload = multer({ dest: "uploads/" });
app.use(cors());

app.post("/upload", upload.single("file"), (req, res) => {
  console.log("收到檔案:", req.file);
  // ⚠️ 這裡先模擬分析結果
  res.json({ analysis: "這張照片看起來是：一碗牛肉麵，熱量大約 550 大卡" });
});

app.listen(3000, () => {
  console.log("伺服器啟動在 http://localhost:3000");
});
